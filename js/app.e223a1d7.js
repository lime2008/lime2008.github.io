(function(){"use strict";var t={1465:function(t,e,i){var s=i(9489),l=(i(8438),i(9963)),a=i(7669),o=(i(5774),i(8955)),n=(i(9685),i(6102),i(4406),i(8130)),r=(i(444),i(6252)),d=i(3577);const h={key:0,id:"mask"},c={class:"into"},u=(0,r._)("div",{id:"k-sign"},null,-1),p=(0,r._)("h1",{style:{display:"inline-block","vertical-align":"middle","margin-left":"10px","margin-top":"0px","margin-bottom":"0px"}},"Kaleido",-1),m={style:{"text-align":"center"}},g={key:0,id:"placehoder_loading"},f=(0,r._)("div",{class:"loader"},null,-1),v=[f],w={ref:"element"},k={style:{height:"100%"}},_={class:"k-nav-top",style:{height:"100%"}},y={class:"k-left-computer"},b={class:"k-left-mobile"},x=(0,r._)("span",{class:"el-dropdown-link"}," 导航 ",-1),q={class:"k-right"},W=(0,r._)("img",{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"},null,-1);function z(t,e,i,s,f,z){const T=(0,r.up)("router-view"),$=n.mi,M=o.Df,U=o.o2,D=o.YK,V=a.vs;return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l.uT,null,{default:(0,r.w5)((()=>[f.state?((0,r.wg)(),(0,r.iD)("div",h,[(0,r._)("div",c,[u,p,(0,r._)("p",m,(0,d.zw)(f.version),1)])])):(0,r.kq)("",!0)])),_:1}),(0,r.Wm)(l.uT,null,{default:(0,r.w5)((()=>[this.$store.state.placehoder?((0,r.wg)(),(0,r.iD)("div",g,v)):(0,r.kq)("",!0)])),_:1}),(0,r._)("div",w,[f.statu_router?((0,r.wg)(),(0,r.j4)(T,{key:0})):(0,r.kq)("",!0)],512),(0,r._)("div",{class:"k-nav",style:(0,d.j5)([{transition:"all 0.4s ease"},{transform:f.translate}])},[(0,r._)("div",k,[(0,r._)("div",_,[(0,r.wy)((0,r._)("div",y,[(0,r.Wm)($,{type:"primary",plain:"",color:"#626aef",onClick:e[0]||(e[0]=t=>z.go("0"))},{default:(0,r.w5)((()=>[(0,r.Uk)("主页")])),_:1}),(0,r.Wm)($,{type:"primary",plain:"",color:"#626aef",onClick:e[1]||(e[1]=t=>z.go("1"))},{default:(0,r.w5)((()=>[(0,r.Uk)("动态")])),_:1}),(0,r.Wm)($,{type:"primary",plain:"",color:"#626aef",onClick:e[2]||(e[2]=t=>z.go("2"))},{default:(0,r.w5)((()=>[(0,r.Uk)("个人")])),_:1})],512),[[l.F8,f.navshowing1]]),(0,r.wy)((0,r._)("div",b,[(0,r.Wm)($,{plain:""},{default:(0,r.w5)((()=>[(0,r.Wm)(D,{trigger:"click"},{dropdown:(0,r.w5)((()=>[(0,r.Wm)(U,null,{default:(0,r.w5)((()=>[(0,r.Wm)(M,{class:"clearfix",onClick:e[3]||(e[3]=t=>z.go("0"))},{default:(0,r.w5)((()=>[(0,r.Uk)(" 主页 ")])),_:1}),(0,r.Wm)(M,{class:"clearfix",onClick:e[4]||(e[4]=t=>z.go("1"))},{default:(0,r.w5)((()=>[(0,r.Uk)(" 动态 ")])),_:1}),(0,r.Wm)(M,{class:"clearfix",onClick:e[5]||(e[5]=t=>z.go("2"))},{default:(0,r.w5)((()=>[(0,r.Uk)(" 个人 ")])),_:1})])),_:1})])),default:(0,r.w5)((()=>[x])),_:1})])),_:1})],512),[[l.F8,f.navshowing2]]),(0,r._)("span",q,[(0,r.Wm)(V,{size:37.5,src:f.avatar,style:{"vertical-align":"middle"}},{default:(0,r.w5)((()=>[W])),_:1},8,["size","src"])])])])],4)],64)}var T=i(4628),$=i(9996),M=(i(9010),i(9029),i(7658),{name:"App",data(){return{version:"@beta 1.3.5 新年快乐！",state:!0,visible:!0,translate:"",screenHeight:"",statu_router:!1,screenWidth:"",navshowing1:!0,navshowing2:!1,info:"",avatar:"",usernick:"nick",apis:{init:"https://sq.lihouse.xyz/api/statu"}}},methods:{init(){let t=[this.axios.get("https://sq.lihouse.xyz/apiv2/authorization.php"),this.axios.get(this.apis.init)];this.axios.all(t).then(this.axios.spread(((t,e)=>{let i=e.data;this.info=t.data,this.$store.commit({type:"share",temp:this.info}),"200"==i.code?(this.$store.state.placehoder=!0,this.statu_router=!0,console.log("%c通行OK","color: green;"),this.nav_changing(),setTimeout((()=>{this.state=!1,"200"==this.info.code?(this.avatar=this.info.avatar,this.usernick=this.info.nick,this.id()):this.usernick="未登录"}),550)):console.log("%c服务端阻止开放","color: red;")}))).catch((t=>{T.T.confirm("网络错误："+t+" 请刷新页面重试","出错了!",{showCancelButton:!1,confirmButtonText:"重试",type:"error"}).then((()=>{window.location.reload()}))}))},id(){""==this.info.id&&T.T.prompt("<h3>(｡･∀･)ﾉﾞ嗨~</h3><p>欢迎你首次来访kaleido星球，但在做好旅行准备前，请定制属于你的专属铭牌，以便于小伙伴查找你~</p><p>请三思内容，仅支持字母加数字，15字符以内，不可包含特殊字符，获取后不可更改哦！</p>","定制铭牌",{confirmButtonText:"就这样!",showClose:!1,showCancelButton:!1,beforeClose:(t,e,i)=>{if("confirm"!==t)return!1;e.confirmButtonLoading=!0,e.confirmButtonText="请稍等...",setTimeout((()=>{i(),setTimeout((()=>{e.confirmButtonLoading=!1}),300)}),400)},dangerouslyUseHTMLString:!0,inputValidator:t=>t?t.length>15?"不要超过15个字符喔！":/[^\w+@]/.test(t)?"唉，铭牌不合法，不可包含特殊字符哦！":void 0:"w，好神秘，但铭牌不能为空哦！"}).then((({value:t})=>{this.axios({method:"post",url:"https://sq.lihouse.xyz/apiv2/id.php",data:"id="+t}).then((t=>{let e=t.data;"200"!==e.code?(this.id(),setTimeout((()=>{(0,$.bM)({title:"错误码:"+e.code,message:e.msg,type:"error",duration:2500,position:"top-right"})}),550)):T.T.alert(e.msg+"快快开启你的旅途吧!")})).catch((t=>{T.T.confirm("请求错误："+t,"出错了!",{showCancelButton:!1,confirmButtonText:"重试",type:"error"}).then((()=>{this.id()}))}))}))},nav_changing(){if(this.statu_router){let t=this.$refs.element.offsetHeight;this.screenHeight>t?console.log("%c取消导航移动","color: yellow;"):console.log("%c启用导航移动","color: green;"),this.screenWidth<380?(this.navshowing1=!1,this.navshowing2=!0,console.log("%c导航栏按钮收缩","color: white;")):(this.navshowing1=!0,this.navshowing2=!1,console.log("%c导航栏全示","color: green;"))}},go(t){"0"==t&&"MainPage"!==this.$route.name&&(this.$store.state.placehoder=!0,this.axios.get("https://sq.lihouse.xyz/apiv2/authorization.php").then((t=>{this.$store.commit({type:"share",temp:t.data}),this.$router.push("/")})).catch((e=>{T.T.confirm("请求错误："+e,"出错了!",{confirmButtonText:"重试",showCancelButton:!1,type:"error"}).then((()=>{this.go(t)}))}))),"1"==t&&"PopPage"!==this.$route.name&&(this.$store.state.placehoder=!0,this.axios.get("https://sq.lihouse.xyz/apiv2/authorization.php").then((t=>{this.$store.commit({type:"share",temp:t.data}),this.$router.push("/popzone")})).catch((e=>{T.T.confirm("请求错误："+e,"出错了!",{confirmButtonText:"重试",showCancelButton:!1,type:"error"}).then((()=>{this.go(t)}))}))),"2"==t&&"MySelf"!==this.$route.name&&(this.$store.state.placehoder=!0,this.axios.get("https://sq.lihouse.xyz/apiv2/authorization.php").then((t=>{this.$store.commit({type:"share",temp:t.data}),this.$router.push("/me")})).catch((e=>{T.T.confirm("请求错误："+e,"出错了!",{confirmButtonText:"重试",showCancelButton:!1,type:"error"}).then((()=>{this.go(t)}))})))},nav_position(t){this.translate="up"==t?"translate(0%,0%)":"translate(0%,-100%)"},handleScroll(){let t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=t-this.i;this.i=t,t>.15*this.screenHeight?e<0?this.nav_position("up"):this.nav_position("down"):e<0&&this.nav_position("up")}},mounted(){this.screenHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.init(),window.addEventListener("scroll",this.handleScroll,!0),window.onresize=()=>(()=>{this.screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.screenHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.nav_changing()})()}}),U=i(3744);const D=(0,U.Z)(M,[["render",z]]);var V=D,C=i(2346),H=i(196),P=i(2201),B=i(9950),O=(i(3359),i(9615),i(32));i(1154);const j={class:"k-main",style:{"padding-left":"5%","padding-right":"5%","padding-top":"82.5px"}},Y=(0,r._)("div",{class:"notice",style:{"margin-top":"10px"}},[(0,r._)("div",{class:"notice-content"},"最久每个月1号发布新版本，当前版本:v1.2.5 更多信息可前往动态区查看！有任何安全性问题求求联系qq3463448740! 感谢啦！")],-1),E={class:"k-daily"},F=["src"],K=(0,r._)("div",{class:"button"},null,-1),Z={class:"k-daily-inf",style:{padding:"10px 15px",position:"relative"}},L={class:"auth"},S=(0,r.uE)('<ul class="k-cont"><li class="k-cont-item"><a href="/user/500636"><div class="k-bg-hidden"><div class="k-bg" style="background-image:url(&quot;https://q1.qlogo.cn/g?b=qq&amp;nk=3463448740&amp;s=640&quot;);"></div><div class="k-bg-angle"></div></div><div class="k-ava-shadow"></div><div class="k-ava"><div class="k-ava-img" style="background-image:url(&quot;https://q1.qlogo.cn/g?b=qq&amp;nk=3463448740&amp;s=640&quot;);"></div></div><div class="k-des"><p class="k-name">这是昵称</p><p>社区优秀创作者</p></div></a></li><li class="k-cont-item"><a href="/user/500636"><div class="k-bg-hidden"><div class="k-bg" style="background-image:url(&quot;https://q1.qlogo.cn/g?b=qq&amp;nk=3463448740&amp;s=640&quot;);"></div><div class="k-bg-angle"></div></div><div class="k-ava-shadow"></div><div class="k-ava"><div class="k-ava-img" style="background-image:url(&quot;https://q1.qlogo.cn/g?b=qq&amp;nk=3463448740&amp;s=640&quot;);"></div></div><div class="k-des"><p class="k-name">这是昵称</p><p>社区优秀创作者</p></div></a></li><li class="k-cont-item"><a href="/user/500636"><div class="k-bg-hidden"><div class="k-bg" style="background-image:url(&quot;https://q1.qlogo.cn/g?b=qq&amp;nk=3463448740&amp;s=640&quot;);"></div><div class="k-bg-angle"></div></div><div class="k-ava-shadow"></div><div class="k-ava"><div class="k-ava-img" style="background-image:url(&quot;https://q1.qlogo.cn/g?b=qq&amp;nk=3463448740&amp;s=640&quot;);"></div></div><div class="k-des"><p class="k-name">这是昵称</p><p>社区优秀创作者</p></div></a></li><li class="k-cont-item"><a href="/user/500636"><div class="k-bg-hidden"><div class="k-bg" style="background-image:url(&quot;https://q1.qlogo.cn/g?b=qq&amp;nk=3463448740&amp;s=640&quot;);"></div><div class="k-bg-angle"></div></div><div class="k-ava-shadow"></div><div class="k-ava"><div class="k-ava-img" style="background-image:url(&quot;https://q1.qlogo.cn/g?b=qq&amp;nk=3463448740&amp;s=640&quot;);"></div></div><div class="k-des"><p class="k-name">这是昵称</p><p>社区优秀创作者</p></div></a></li></ul><h3>更新记录</h3><p style="margin-bottom:17px;">如果你对网站设计，功能添加删减，代码还是逻辑的优化有任何建议，请向我们联系，我们很需要倾听每一个声音！另招募美工。策划(商讨决定各种功能页面的可行，欢迎大佬们加入)</p>',3),N=(0,r._)("h4",null,"用vuex着重升级优化了论坛部分~ 现在可以点击帖子，阅读详情，且在不刷新网站切换页面时，帖子数据再也不会丢失！同时，发帖后也会自动刷新最新的帖子，且不覆盖旧的！",-1),A=(0,r._)("p",null,"@beta 1.3.5",-1),I=(0,r._)("h4",null,[(0,r.Uk)("大更新汇总！ 在1.3版本中，kaleido已开放论坛，移植了以前的个人设置(还不能使用)，最最重要的的是：还用vuex对于底层进行了大大的优化"),(0,r._)("del",null,"(爽死了)"),(0,r.Uk)("！ "),(0,r._)("b",null,"在这里祝大家新年快乐！")],-1),X=(0,r._)("p",null,"@beta 1.3.0",-1),Q=(0,r._)("h4",null,"是的，目前动态下面的2条都是在线渲染！查询部分已解决，但做插入的时候发现需要先把id绑定做完，头疼哦...",-1),G=(0,r._)("p",null,"@beta 1.2.5",-1),J=(0,r._)("h4",null,[(0,r.Uk)("重写登录界面"),(0,r._)("a",{href:"https://sq.lihouse.xyz/user/"}," 戳我 "),(0,r.Uk)("和部分后端，开坑动态前端样式，迁移更新日志")],-1),R=(0,r._)("p",null,"@beta 1.2.0",-1),tt=(0,r._)("h4",null,"对接部分后端 优化推荐样式",-1),et=(0,r._)("p",null,"@beta 1.1.7",-1),it=(0,r._)("h4",null,"优化网页体积 修复不同宽高兼容问题 优化动画",-1),st=(0,r._)("p",null,"@beta 1.1.6",-1),lt=(0,r._)("h4",null,"补全导航栏 添加推荐兽兽框架",-1),at=(0,r._)("p",null,"@beta 1.1.5",-1),ot=(0,r._)("h4",null,"改动每日兽兽 使其更适配各种设备",-1),nt=(0,r._)("p",null,"@beta 1.1.4",-1),rt=(0,r._)("h4",null,"着手重写全站",-1),dt=(0,r._)("p",null,"@beta 1.1.0",-1);function ht(t,e,i,s,l,a){const o=O.Kf,n=B._T,h=B.rJ;return(0,r.wg)(),(0,r.iD)("div",j,[Y,(0,r._)("div",E,[(0,r._)("img",{class:"k-full-bg",src:l.inf.imgurl,onLoad:e[0]||(e[0]=t=>a.placehoder_hiding())},null,40,F),K]),(0,r._)("div",Z,[(0,r._)("h1",null,(0,d.zw)(l.inf.time),1),(0,r._)("p",null,(0,d.zw)(l.inf.des),1),(0,r._)("div",L,(0,d.zw)(l.inf.auth),1)]),S,(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Wm)(n,{timestamp:"2023/1/1",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[N,A])),_:1})])),_:1})])),_:1}),(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Wm)(n,{timestamp:"2022/12/31",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[I,X])),_:1})])),_:1}),(0,r.Wm)(n,{timestamp:"2022/12/16",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[Q,G])),_:1})])),_:1}),(0,r.Wm)(n,{timestamp:"2022/11/29",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[J,R])),_:1})])),_:1}),(0,r.Wm)(n,{timestamp:"2022/11/16",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[tt,et])),_:1})])),_:1}),(0,r.Wm)(n,{timestamp:"2022/11/15",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[it,st])),_:1})])),_:1}),(0,r.Wm)(n,{timestamp:"2022/11/15",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[lt,at])),_:1})])),_:1}),(0,r.Wm)(n,{timestamp:"2022/11/13",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[ot,nt])),_:1})])),_:1}),(0,r.Wm)(n,{timestamp:"2022/11/8",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[rt,dt])),_:1})])),_:1})])),_:1})])}var ct={data(){return{version:"beta 1.0.0",login_statu:!1,inf:{imgurl:"",time:"",des:"",auth:""},paddingheight:"",cdnurl:"https://strong-scone-3f3bbd.netlify.app/",apis:{works:"https://furry.lihouse.xyz/api.php"}}},methods:{init(){let t=[this.axios.get("https://sq.lihouse.xyz/apiv2/authorization.php"),this.axios.get("https://furry.lihouse.xyz/api.php")];this.axios.all(t).then(this.axios.spread(((t,e)=>{this.info=t.data;let i=e.data;this.inf.imgurl=i.imgurl,this.inf.time=i.inf.time,this.inf.des=i.inf.des,this.inf.auth=i.inf.auth,null==this.inf.imgurl&&(console.log("%cfrom:MainPage msg:今日图片为空，返回默认图！","color: yellow;"),this.inf.imgurl="https://cdn-community.codemao.cn/47/community/d2ViXzMwMDFfNDk3MDQ3Ml8wXzE2NzI0MDQwOTUwMDJfMGU3MDM1ZWI.jpeg"),"200"!==this.info.code?(this.login_statu=!1,console.log("%cfrom:MainPage msg:未登录！","color: yellow;")):console.log("%cfrom:MainPage msg:已登录！","color: green;")})))},placehoder_hiding(){setTimeout((()=>{this.$store.state.placehoder=!1}),550)}},mounted(){console.log(this.cdnurl),this.init()}};const ut=(0,U.Z)(ct,[["render",ht]]);var pt=ut,mt=i(1675),gt=(i(2029),i(8280));i(4367);const ft=(0,r._)("div",{class:"k-gradientbg"},null,-1),vt={class:"k-main",style:{"padding-left":"5%","padding-right":"5%","padding-top":"82.5px","padding-bottom":"20px"}},wt=["onClick"],kt={style:{padding:"20px 25px","border-bottom":"1px solid #f3f3f3"}},_t={class:"k-p-header"},yt=(0,r._)("img",{src:"https://static.codemao.cn/FjdGLKY8l4RINPdZ02073fwKFxPK",alt:"头像",class:"k-p-ava"},null,-1),bt={class:"k-p-name"},xt={class:"k-p-title"},qt={style:{overflow:"hidden","text-overflow":"ellipsis","-o-text-overflow":"ellipsis","white-space":"nowrap"}},Wt={class:"k-p-short"},zt=(0,r._)("div",{class:"k-p-img"},null,-1),Tt={class:"k-p-footer"},$t={class:"k-p-1"},Mt={class:"k-p-2"},Ut={style:{"text-align":"center","margin-top":"15px"}},Dt={class:"icon",style:{position:"relative",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:"65%",height:"65%","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5601"},Vt=(0,r._)("path",{d:"M896 874.218667c17.674667 0 32 14.432 32 32.224A32.106667 32.106667 0 0 1 896 938.666667H128a32.106667 32.106667 0 0 1-32-32.213334 32.106667 32.106667 0 0 1 32-32.234666zM597.898667 238.325333l0.106666 0.106667 150.944 152a21.333333 21.333333 0 0 1 0 30.069333l-324.8 327.061334a159.690667 159.690667 0 0 1-78.048 43.264l-152.085333 34.432c-23.808 5.386667-44.608-16.981333-37.706667-40.554667l43.296-147.84a161.344 161.344 0 0 1 40.32-68.373333l327.797334-330.058667a21.333333 21.333333 0 0 1 30.176-0.106667zM840.746667 130.602667l15.082666 15.189333c45.824 46.144 45.824 120.949333 0 167.082667l-31.552 31.786666a21.333333 21.333333 0 0 1-30.176 0.106667l-0.106666-0.106667-150.944-152a21.333333 21.333333 0 0 1 0-30.08l31.754666-31.978666a116.768 116.768 0 0 1 165.941334 0z",fill:"#000000"},null,-1),Ct=[Vt],Ht=(0,r._)("div",{style:{margin:"20px 0"}},null,-1),Pt={class:"dialog-footer"},Bt={class:"dialog-footer"},Ot={class:"k-p-header"},jt=(0,r._)("img",{src:"https://static.codemao.cn/FjdGLKY8l4RINPdZ02073fwKFxPK",alt:"头像",class:"k-p-ava"},null,-1),Yt={class:"k-p-name"};function Et(t,e,i,s,l,a){const o=n.mi,h=gt.EZ,c=mt.d0;return(0,r.wg)(),(0,r.iD)(r.HY,null,[ft,(0,r._)("div",vt,[(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.$store.state.fields,((t,e)=>((0,r.wg)(),(0,r.iD)("div",{class:"k-p-body",onClick:t=>a.read(e)},[(0,r._)("div",kt,[(0,r._)("div",_t,[yt,(0,r._)("span",bt,(0,d.zw)(t.user),1)]),(0,r._)("div",xt,[(0,r._)("h2",qt,(0,d.zw)(t.title),1)]),(0,r._)("div",Wt,(0,d.zw)(t.content),1),zt,(0,r._)("div",Tt,[(0,r._)("div",$t,(0,d.zw)(t.replies)+"回复",1),(0,r._)("div",Mt,"#"+(0,d.zw)(t.id),1)])])],8,wt)))),256))]),(0,r._)("div",Ut,[(0,r.Wm)(o,{loading:l.loading,color:"#626aef",style:{width:"40%"},size:"large",round:"",type:"primary",plain:"",onClick:e[0]||(e[0]=t=>a.load())},{default:(0,r.w5)((()=>[(0,r.Uk)("更多")])),_:1},8,["loading"])]),l.statu?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"k-btn",onClick:e[1]||(e[1]=t=>{this.login_statu?this.write=!0:this.tologin()})},[((0,r.wg)(),(0,r.iD)("svg",Dt,Ct))])):(0,r.kq)("",!0)]),(0,r.Wm)(c,{modelValue:l.write,"onUpdate:modelValue":e[6]||(e[6]=t=>l.write=t),title:"撰写帖子",style:{"min-width":"320px"}},{footer:(0,r.w5)((()=>[(0,r._)("span",Pt,[(0,r.Wm)(o,{onClick:e[4]||(e[4]=t=>{this.write=!1})},{default:(0,r.w5)((()=>[(0,r.Uk)("取消")])),_:1}),(0,r.Wm)(o,{type:"primary",onClick:e[5]||(e[5]=t=>a.confirm())},{default:(0,r.w5)((()=>[(0,r.Uk)(" 发布 ")])),_:1})])])),default:(0,r.w5)((()=>[(0,r.Wm)(h,{modelValue:l.title,"onUpdate:modelValue":e[2]||(e[2]=t=>l.title=t),maxlength:"50",placeholder:"帖子标题","show-word-limit":"",type:"text"},null,8,["modelValue"]),Ht,(0,r.Wm)(h,{modelValue:l.content,"onUpdate:modelValue":e[3]||(e[3]=t=>l.content=t),maxlength:"2500",rows:5,placeholder:"帖子内容","show-word-limit":"",type:"textarea"},null,8,["modelValue"])])),_:1},8,["modelValue"]),(0,r.Wm)(c,{modelValue:l.visble,"onUpdate:modelValue":e[7]||(e[7]=t=>l.visble=t),title:l.r_title,width:"45%","align-center":"",style:{"min-width":"320px"}},{footer:(0,r.w5)((()=>[(0,r._)("span",Bt,[(0,r._)("div",Ot,[jt,(0,r._)("span",Yt,(0,d.zw)(l.r_author),1)])])])),default:(0,r.w5)((()=>[(0,r._)("span",null,(0,d.zw)(l.r_content),1)])),_:1},8,["modelValue","title"])],64)}var Ft={data(){return{placehoder:!1,id:1e4,fields:[],r_content:"",r_title:"",r_author:"",title:"",visble:!1,dv:0,dv2:!1,num:0,visible:!1,url:"",loading:!1,statu:!1,write:!1,login_statu:!1,content:"",cache:"no",i4:""}},methods:{load(){this.loading=!0;let t=this.$store.state.fields[this.$store.state.fields.length-1]["id"]-1,e=t-1,i=t-2,s=t-3,l=t-4;this.url="https://sq.lihouse.xyz/apiv2/posts.php?ids="+t+","+e+","+i+","+s+","+l,this.axios.get(this.url).then((t=>{this.$store.state.fields=this.$store.state.fields.concat(t.data),setTimeout((()=>{this.loading=!1}),150)}))},read(t){console.log(t),this.r_content=this.$store.state.fields[t]["content"],this.r_title=this.$store.state.fields[t]["title"],this.r_author=this.$store.state.fields[t]["user"],this.visble=!0},confirm(){this.axios({method:"post",url:"https://sq.lihouse.xyz/apiv2/posts_insert.php",data:"title="+this.title+"&content="+this.content}).then((t=>{let e=t.data;"200"!==e.code?(0,$.bM)({title:"错误码:"+e.code,message:e.msg,type:"error",duration:2500,position:"top-right"}):(this.title="",this.content="",this.write=!1,this.refresh(),(0,$.bM)({title:"发布成功！",message:e.msg,type:"success",duration:2500,position:"top-right"}))}))},refresh(){this.axios.get("https://sq.lihouse.xyz/apiv2/posts_num.php").then((t=>{if(this.num=t.data,this.$store.state.fields[0]["id"]==this.num?(console.log("无需刷新"),this.dv2=!1):this.dv2=!0,this.dv2){let t="";for(let e=this.num;e>=this.$store.state.fields[0]["id"];e--)t+=e+",";this.url="https://sq.lihouse.xyz/apiv2/posts.php?ids="+t,this.axios.get(this.url).then((t=>{this.$store.state.fields=t.data.concat(this.$store.state.fields)}))}}))},tologin(){T.T.alert("唉，在发帖之前请登录哟！要不然小伙伴们可不知道是谁发的啦~","小提示",{confirmButtonText:"去登录!",callback:t=>{"confirm"==t?setTimeout((()=>{window.location.href="https://sq.lihouse.xyz/user/"}),100):this.$message({message:"已取消",center:!0,type:"error"})}})},init(){this.statu=!0,"200"==this.$store.state.info.code&&(this.login_statu=!0),this.axios.get("https://sq.lihouse.xyz/apiv2/posts_num.php").then((t=>{if(this.num=t.data,""!==this.$store.state.fields&&(this.cache="yes",this.$store.state.fields[0]["id"]==this.num?(console.log("无需刷新"),this.dv=0,setTimeout((()=>{this.$store.state.placehoder=!1}),150)):this.dv=1),1==this.dv){let t="";for(let e=this.num;e>=this.$store.state.fields[0]["id"];e--)t+=e+",";this.url="https://sq.lihouse.xyz/apiv2/posts.php?ids="+t,this.axios.get(this.url).then((t=>{this.$store.state.fields=t.data.concat(this.$store.state.fields),setTimeout((()=>{this.$store.state.placehoder=!1}),150)}))}if("no"==this.cache){let t=this.num-1,e=this.num-2,i=this.num-3;this.i4=this.num-4,this.url="https://sq.lihouse.xyz/apiv2/posts.php?ids="+this.num+","+t+","+e+","+i+","+this.i4,this.axios.get(this.url).then((t=>{this.$store.state.fields=t.data,setTimeout((()=>{this.$store.state.placehoder=!1}),550)}))}}))},placehoder_hiding(){setTimeout((()=>{this.placehoder=!1}),550)}},mounted(){this.init()}};const Kt=(0,U.Z)(Ft,[["render",Et]]);var Zt=Kt,Lt=i(8498),St=(i(9840),i(1870)),Nt=(i(8984),i(2018)),At=(i(6160),i(4186)),It=(i(9426),i(7006)),Xt=(i(9739),i(3484));i(7402),i(1715),i(6589);const Qt=(0,r._)("img",{src:"https://cdn-community.codemao.cn/47/community/d2ViXzMwMDFfNDk3MDQ3Ml8wXzE2NzEwODc3MTQ3MTRfNWNhMDJiYTM.png",class:"full-bg full-bg-bottom"},null,-1),Gt={class:"k-main",style:{"padding-left":"5%","padding-right":"5%","padding-top":"82.5px"}},Jt=(0,r._)("div",{style:{}},null,-1),Rt={class:"k-wrap",style:{"text-align":"center"}},te=(0,r._)("h2",{class:"k-title"},"卡片设置",-1),ee={key:1},ie={key:1};function se(t,e,i,s,l,a){const o=gt.EZ,h=Lt.nH,c=Xt.BT,u=Xt.km,p=It.i,m=At.Dv,g=Nt.Xh,f=St.LW,v=n.mi,w=Lt.ly;return(0,r.wg)(),(0,r.iD)(r.HY,null,[Qt,(0,r._)("div",Gt,[Jt,(0,r._)("div",Rt,[te,(0,r.Wm)(w,{ref:"form",model:l.form,"label-width":"70px"},{default:(0,r.w5)((()=>[(0,r.Wm)(h,{label:"昵称"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{modelValue:l.form.nick,"onUpdate:modelValue":e[0]||(e[0]=t=>l.form.nick=t),maxlength:"30",placeholder:"在kaleido星球上展示的昵称","show-word-limit":"",type:"text",onInput:e[1]||(e[1]=t=>l.form.nick=l.form.nick.replace(" ",""))},null,8,["modelValue"])])),_:1}),(0,r.Wm)(h,{label:"个性签名"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{maxlength:"150",placeholder:"更好介绍自己的一种描述","show-word-limit":"",rows:5,type:"textarea",modelValue:l.form.desc,"onUpdate:modelValue":e[2]||(e[2]=t=>l.form.desc=t)},null,8,["modelValue"])])),_:1}),(0,r.Wm)(h,{label:"性别"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{modelValue:l.form.sex,"onUpdate:modelValue":e[3]||(e[3]=t=>l.form.sex=t),placeholder:"选择性别，或非人(?)"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{label:"男",value:"0"}),(0,r.Wm)(c,{label:"女",value:"1"}),(0,r.Wm)(c,{label:"bot",value:"2"})])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)(h,{label:"生日"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{span:11},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{format:"YYYY.MM.DD",type:"date",placeholder:"选择日期",modelValue:l.form.birth,"onUpdate:modelValue":e[4]||(e[4]=t=>l.form.birth=t),"value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.Wm)(h,{label:"头像",id:"ava"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{class:"avatar-uploader",action:"https://sq.lihouse.xyz/api/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess1,"before-upload":t.beforeAvatarUpload1,"on-change":t.changeUploadFile,"on-remove":t.removeFile,"file-list":l.form.fileList,"on-progress":t.uploadProcess1},{default:(0,r.w5)((()=>[l.imageUrl?((0,r.wg)(),(0,r.iD)("div",{key:0,style:(0,d.j5)([{"background-image":"url("+this.imageUrl+")"},{"border-radius":"50%"}]),class:"avatar"},null,4)):(0,r.kq)("",!0),t.imagetext?((0,r.wg)(),(0,r.iD)("p",ee,"点我上传！")):(0,r.kq)("",!0),l.progress?((0,r.wg)(),(0,r.j4)(g,{key:2,type:"circle",percentage:this.percent},null,8,["percentage"])):(0,r.kq)("",!0)])),_:1},8,["on-success","before-upload","on-change","on-remove","file-list","on-progress"])])),_:1}),(0,r.Wm)(h,{label:"背景图"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{class:"avatar-uploader",action:"https://sq.lihouse.xyz/api/uploadbanner","show-file-list":!1,"on-success":t.handleAvatarSuccess2,"before-upload":t.beforeAvatarUpload2,"on-change":t.changeUploadFile,"on-remove":t.removeFile,"file-list":l.form.fileList,"on-progress":t.uploadProcess2,"list-type":"picture"},{default:(0,r.w5)((()=>[l.banner?((0,r.wg)(),(0,r.iD)("div",{key:0,style:(0,d.j5)({"background-image":"url("+this.bannerUrl+")"}),class:"avatar"},null,4)):(0,r.kq)("",!0),t.imagetext?((0,r.wg)(),(0,r.iD)("p",ie,"点我上传！")):(0,r.kq)("",!0),l.progress2?((0,r.wg)(),(0,r.j4)(g,{key:2,type:"circle",percentage:this.percent2},null,8,["percentage"])):(0,r.kq)("",!0)])),_:1},8,["on-success","before-upload","on-change","on-remove","file-list","on-progress"])])),_:1}),(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Wm)(v,{type:"primary",onClick:e[5]||(e[5]=t=>this.onSubmit())},{default:(0,r.w5)((()=>[(0,r.Uk)("确认更改")])),_:1})])),_:1})])),_:1},8,["model"])])])],64)}var le={data(){return{placehoder:!1,form:{statu:!1,nick:"",desc:"",sex:"",region:"",birth:"",type:[],resource:""},api:"https://sq.lihouse.xyz/api/setting",loading:!0,progress:!0,progress2:!0,banner:!1,imageUrl:"",percent:"0",percent2:"0",bannerUrl:""}},methods:{init(){this.$message({message:"即将开放！",center:!0,type:"info"}),setTimeout((()=>{this.$store.state.placehoder=!1}),550)}},mounted(){this.init()}};const ae=(0,U.Z)(le,[["render",se]]);var oe=ae,ne=i(6263),re=i(3907);const de=(0,l.ri)(V),he=[{name:"MainPage",component:pt,path:"/"},{name:"PopPage",component:Zt,path:"/popzone"},{name:"MySelf",component:oe,path:"/me"}],ce=(0,P.p7)({history:(0,P.r5)(),routes:he}),ue=(0,re.MT)({state(){return{info:"",placehoder:!0,fields:""}},mutations:{share(t,e){t.info=e.temp}}});de.use(ue),de.use(s.z8,ne.v,$.bM,mt.d0),de.use(C.Z,H.ZP),de.use(ce),de.mount("#app")}},e={};function i(s){var l=e[s];if(void 0!==l)return l.exports;var a=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=t,function(){i.amdO={}}(),function(){var t=[];i.O=function(e,s,l,a){if(!s){var o=1/0;for(h=0;h<t.length;h++){s=t[h][0],l=t[h][1],a=t[h][2];for(var n=!0,r=0;r<s.length;r++)(!1&a||o>=a)&&Object.keys(i.O).every((function(t){return i.O[t](s[r])}))?s.splice(r--,1):(n=!1,a<o&&(o=a));if(n){t.splice(h--,1);var d=l();void 0!==d&&(e=d)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[s,l,a]}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var l,a,o=s[0],n=s[1],r=s[2],d=0;if(o.some((function(e){return 0!==t[e]}))){for(l in n)i.o(n,l)&&(i.m[l]=n[l]);if(r)var h=r(i)}for(e&&e(s);d<o.length;d++)a=o[d],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(h)},s=self["webpackChunkkaleido_v2"]=self["webpackChunkkaleido_v2"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(1465)}));s=i.O(s)})();